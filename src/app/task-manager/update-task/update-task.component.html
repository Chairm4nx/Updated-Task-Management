<div class="task-dialog-container">
    <mat-card>
        <h1>{{title}}</h1>
        <mat-card-title><h4>Update Task</h4></mat-card-title>
        <mat-stepper linear="true" #stepper>
            <mat-step [stepControl]="taskManagerFormGroup" label="Task fields" errorMessage="Task is required.">
        <form [formGroup]="taskManagerFormGroup" class="form-container">
            <mat-form-field class="form-field-item full-width" appearance="outline">
                <mat-label>Task Name</mat-label>
                <input matInput formControlName="taskName" placeholder="Name">
                <mat-error *ngIf="taskManagerFormGroup.controls['taskName'].hasError('required')">Name is required
                </mat-error>
            </mat-form-field>

            <mat-form-field class="form-field-item full-width" appearance="outline">
                <mat-label>Task Description</mat-label>
                <textarea matInput formControlName="taskDescription"
                    placeholder="Input your description here"></textarea>
                <mat-error *ngIf="taskManagerFormGroup.controls['taskDescription'].hasError('required')">Description is
                    required</mat-error>
            </mat-form-field>

            <mat-form-field appearance="legacy">
                <mat-label>Status</mat-label>
                <mat-select formControlName="status">
                    <mat-option value=0>New</mat-option>
                    <mat-option value=1>In Progress</mat-option>
                    <mat-option value=2>Completed</mat-option>
                </mat-select>
                <mat-error *ngIf="taskManagerFormGroup.controls['status'].hasError">Task status is required.</mat-error>
            </mat-form-field>
            <div class="mt-3" fxLayout="row" fxLayoutAlign="space-between">
                <button mat-button (click)="onBack()">Go back</button>
                <button mat-button matStepperNext [disabled]="taskManagerFormGroup.invalid">Next</button>
            </div>
            <br>

        </form>
    </mat-step>
    <mat-step [stepControl]="tagsFormGroup" label="Tag field" errorMessage="Tags are required.">
        <form [formGroup]="tagsFormGroup">
            <div fxLayout="row" fxLayoutAlign=" none" >
                <app-tags [tagsFormGroup]="tagsFormGroup"></app-tags>
            </div>
            <div class="mt-3" fxLayout="row" fxLayoutAlign="space-between">
                <button mat-button matStepperPrevious>Back</button>
                <button mat-button matStepperNext [disabled]="tagsFormGroup.invalid">Next</button>
            </div>
        </form>
    </mat-step>
    <mat-step label="Done">
        <h4>Done Editing the task and tag fields. Do you wish to save?</h4>
        <br>
        <br>
        
        <div class="buttons">
            <button mat-button matStepperPrevious>Back</button>
            <button mat-button  (click)="onBack()">No</button>
            <button mat-button  (click)="save()">Yes</button>
        </div>
    </mat-step>
</mat-stepper>
    </mat-card>
    
</div>